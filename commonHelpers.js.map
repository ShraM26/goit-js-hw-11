{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\n\n\nexport function processHttpRequest(searchQuery) {\n\n   const searchParams = new URLSearchParams({\n       key: '44309654-823a8ee5bf9a3cfe17e257280',\n       q: searchQuery,\n       image_type: 'photo',\n       orientation: 'horizontal',\n       safesearch: 'true',\n    });\n\n return fetch(`https://pixabay.com/api/?${searchParams}`)\n    .then((response) => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    })\n    .catch((error) => {\n      console.error('Error fetching data:', error);\n      throw error;\n    });\n}\n\n","\n\n\nexport function imgTemplate(imgs) {\n  const galleryElm = document.querySelector('.gallery');\n  galleryElm.innerHTML = '';\n\n  const galleryMarkup = imgs.map((img) => {\n    return `\n      <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${img.largeImageURL}\" target=\"_blank\">\n          <img class=\"gallery-image\" \n               src=\"${img.webformatURL}\" \n               alt=\"${img.tags}\" \n          />\n        </a>\n        <div class=\"image-details\">\n          <p class=\"text\"><b>Likes</b> ${img.likes}</p>\n          <p class=\"text\"><b>Views</b> ${img.views}</p>\n          <p class=\"text\"><b>Comments</b> ${img.comments}</p>\n          <p class=\"text\"><b>Downloads</b> ${img.downloads}</p>\n        </div>\n      </li>\n    `;\n  }).join('');\n  galleryElm.insertAdjacentHTML('beforeend', galleryMarkup);\n}\n","\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n \nimport {processHttpRequest} from './js/pixabay-api';\nimport { imgTemplate } from './js/render-functions';\n\nconst formElms = document.querySelector('.form');\nconst loader = document.querySelector('.loader');\nconst galleryElm = document.querySelector('.gallery');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n                         captionDelay: 250,\n                         captionsData: 'alt',\n                    });\n\nformElms.addEventListener('submit', (e) => {\n  e.preventDefault();\n  \n  const inputValue = formElms.elements['input'].value.trim();\n  \n  if (!inputValue) {\n       iziToast.error({\n                    message: 'Before executing the request, please enter its title!',\n                    messageColor: '#FAFAFB',\n                    backgroundColor: '#EF4040',\n                    iconColor: '#FAFAFB',\n                    position: 'topRight',\n                    timeout: 3000,\n                    theme: 'dark',\n                    maxWidth: 450\n                });\n    return;\n  }\n  loader.style.display = 'block';\n    processHttpRequest(inputValue) \n  .then((data) => {\n            if (data && data.hits.length === 0) {\n                iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    messageColor: '#FAFAFB',\n                    backgroundColor: '#EF4040',\n                    iconColor: '#FAFAFB',\n                    position: 'topRight',\n                    timeout: 3000,\n                    theme: 'dark',\n                    maxWidth: 450\n                });galleryElm.innerHTML = '';\n            } else {\n                   imgTemplate(data.hits)\n                  lightbox.refresh();\n      }\n      loader.style.display = 'none';\n      formElms.reset();\n        })\n});\n\n\n\n\n\n\n"],"names":["processHttpRequest","searchQuery","searchParams","response","error","imgTemplate","imgs","galleryElm","galleryMarkup","img","formElms","loader","lightbox","SimpleLightbox","e","inputValue","iziToast","data"],"mappings":"6vBAGO,SAASA,EAAmBC,EAAa,CAE7C,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACnB,CAAK,EAEJ,OAAO,MAAM,4BAA4BC,CAAY,EAAE,EACnD,KAAMC,GAAa,CAClB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAErC,OAAOA,EAAS,MACtB,CAAK,EACA,MAAOC,GAAU,CAChB,cAAQ,MAAM,uBAAwBA,CAAK,EACrCA,CACZ,CAAK,CACL,CCrBO,SAASC,EAAYC,EAAM,CAChC,MAAMC,EAAa,SAAS,cAAc,UAAU,EACpDA,EAAW,UAAY,GAEvB,MAAMC,EAAgBF,EAAK,IAAKG,GACvB;AAAA;AAAA,wCAE6BA,EAAI,aAAa;AAAA;AAAA,sBAEnCA,EAAI,YAAY;AAAA,sBAChBA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA,yCAIWA,EAAI,KAAK;AAAA,yCACTA,EAAI,KAAK;AAAA,4CACNA,EAAI,QAAQ;AAAA,6CACXA,EAAI,SAAS;AAAA;AAAA;AAAA,KAIvD,EAAE,KAAK,EAAE,EACVF,EAAW,mBAAmB,YAAaC,CAAa,CAC1D,CChBA,MAAME,EAAW,SAAS,cAAc,OAAO,EACzCC,EAAS,SAAS,cAAc,SAAS,EACzCJ,EAAa,SAAS,cAAc,UAAU,EAE9CK,EAAW,IAAIC,EAAe,aAAc,CACzB,aAAc,IACd,aAAc,KACvC,CAAqB,EAErBH,EAAS,iBAAiB,SAAWI,GAAM,CACzCA,EAAE,eAAc,EAEhB,MAAMC,EAAaL,EAAS,SAAS,MAAS,MAAM,OAEpD,GAAI,CAACK,EAAY,CACZC,EAAS,MAAM,CACF,QAAS,wDACT,aAAc,UACd,gBAAiB,UACjB,UAAW,UACX,SAAU,WACV,QAAS,IACT,MAAO,OACP,SAAU,GAC9B,CAAiB,EACb,MACD,CACDL,EAAO,MAAM,QAAU,QACrBX,EAAmBe,CAAU,EAC9B,KAAME,GAAS,CACFA,GAAQA,EAAK,KAAK,SAAW,GAC7BD,EAAS,MAAM,CACX,QAAS,2EACT,aAAc,UACd,gBAAiB,UACjB,UAAW,UACX,SAAU,WACV,QAAS,IACT,MAAO,OACP,SAAU,GAC9B,CAAiB,EAAET,EAAW,UAAY,KAEvBF,EAAYY,EAAK,IAAI,EACtBL,EAAS,QAAO,GAE5BD,EAAO,MAAM,QAAU,OACvBD,EAAS,MAAK,CACpB,CAAS,CACT,CAAC"}